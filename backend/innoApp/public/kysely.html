<!DOCTYPE html>
<html lang="en">

<head>
    <title>Kysely</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <!-- CSS -->
    <link href="stylesheets/stylesheet.css" rel="stylesheet">
    <!-- Google fontit -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

</head>

<!-- Navigointi -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="index.html">Llinder</a>
        </div>
        <ul class="nav navbar-nav">
            <li class="active"><a href="index.html">Etusivu</a></li>
            <li><a href="all_tasks.html">Kaikki tehtävät</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
            <li><a>Logot ym tänne</a></li>
        </ul>
    </div>
</nav>

<body class="body">
<!-- väliaikaiset br:ät -->
<br>
<br>
<br>
<br>
<br>
<br>
<br>

 <!-- kuvien vaihtoscripti -->
  <script>
 function updateSlider(slideAmount) {
        if(slideAmount==1){
        	document.getElementById("fyysisyys").src = "https://i.imgur.com/HPiK6vw.png";
        }
        if(slideAmount==2){
        	document.getElementById("fyysisyys").src = "https://i.imgur.com/tNQnJSZ.png";
        }
        if(slideAmount==3){
        	document.getElementById("fyysisyys").src = "https://i.imgur.com/UsvKSy6.png";
        }
        if(slideAmount==4){
        	document.getElementById("fyysisyys").src = "https://i.imgur.com/XooCKpn.png";
        }
        if(slideAmount==5){
        	document.getElementById("fyysisyys").src = "https://i.imgur.com/Jm066HB.png";
        }
    }	
    function updateSlider2(slideAmount) {
        if(slideAmount==1){
        	document.getElementById("pulmanratkaisu").src = "https://i.imgur.com/9u3Tn8U.png";
        }
        if(slideAmount==2){
        	document.getElementById("pulmanratkaisu").src = "https://i.imgur.com/PoEqOtt.png";
        }
        if(slideAmount==3){
        	document.getElementById("pulmanratkaisu").src = "https://i.imgur.com/yfGUVOE.png";
        }
        if(slideAmount==4){
        	document.getElementById("pulmanratkaisu").src = "https://i.imgur.com/sihwuZo.png";
        }
        if(slideAmount==5){
        	document.getElementById("pulmanratkaisu").src = "https://i.imgur.com/DewUuhM.png";
        }
    }
    function updateSlider3(slideAmount) {
        if(slideAmount==1){
        	document.getElementById("seurallisuus").src = "https://i.imgur.com/UQiuWcC.png";
        }
        if(slideAmount==2){
        	document.getElementById("seurallisuus").src = "https://i.imgur.com/BhnLSEF.png";
        }
        if(slideAmount==3){
        	document.getElementById("seurallisuus").src = "https://i.imgur.com/Dy55kAS.png";
        }
        if(slideAmount==4){
        	document.getElementById("seurallisuus").src = "https://i.imgur.com/aT13XQw.png";
        }
        if(slideAmount==5){
        	document.getElementById("seurallisuus").src = "https://i.imgur.com/3ad2k1h.png";
        }
    }
		</script>
    
	<form>
  
    <div class="filter-container">
        <p>Sijainti:</p>
        <select id="locationDropdown" class="black-text">
            <option value="kaikki" selected>Kaikki</option>
            <!-- Get options from db-->
        </select>
    </div>
        <br>
        <br>

    <script type="text/javascript">
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "db/location", true)
        xhr.onload = () =>{
            if(xhr.readyState === 4){
                if(xhr.status === 200) {
                    console.log(xhr.responseText);
                    locations = JSON.parse(xhr.response);
                    locations.forEach(addLocation);
                    function addLocation(item, index) {
                        var locationOption = document.createElement("option");
                        locationOption.value = item.location_name;
                        locationOption.innerHTML = item.location_name;

                        var locationDropdown = document.getElementById("locationDropdown");
                        locationDropdown.appendChild(locationOption);
                    };
                } else {
                    console.error(xhr.statusText);
                }
            }
        }
        xhr.send();
    </script>

  <table style="width:100%">
        <tr>
          <th></th>
          <th style="text-align:center"><p class="valiotsikot">Fyysisyys</p></th>
          <th></th>
          <th style="text-align:center"><p class="valiotsikot">Pulmanratkaisu</p></th> 
          <th></th>
          <th style="text-align:center"><p class="valiotsikot">Seurallisuus</p></th>
          <th></th>
        </tr>
        <tr>
          <td>&nbsp;</td>
          <td style="text-align:center"><div class="kuva1"><img src="https://i.imgur.com/UsvKSy6.png" id="fyysisyys">
          <span class="tooltiptext">Haluat kuntoa nostavaa, kehoa vahvistavaa tehtävää</span></div></td>
          <td></td>
          <td style="text-align:center"><div class="kuva2"><img src="https://i.imgur.com/yfGUVOE.png" id="pulmanratkaisu">
          <span class="tooltiptext">Haluat pohdintaa ja hoksottimia vaativaa tehtävää</span></div></td>
          <td></td>
          <td style="text-align:center"><div class="kuva3"><img src="https://i.imgur.com/Dy55kAS.png" id="seurallisuus">
          <span class="tooltiptext">Haluat olla muiden ihmisten kanssa tekemässä</span></div></td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>&nbsp;</td>
          <td style="text-align:center"><input type="text" readonly="true" size="1" class="aligncentersmall criteriavalue"  name="amountInput" min="1" max="5" value="3" oninput="this.form.amountRange.value=this.value" /></td>
          <td></td>
          <td style="text-align:center"><input type="text" readonly="true" size="1" class="aligncentersmall criteriavalue" name="amountInput2" min="1" max="5" value="3" oninput="this.form.amountRange2.value=this.value" /></td>
          <td></td>
          <td style="text-align:center"><input type="text" readonly="true" size="1" class="aligncentersmall criteriavalue" name="amountInput3" min="1" max="5" value="3" oninput="this.form.amountRange3.value=this.value" /></td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>&nbsp;</td>
          <td><input type="range" size="5" class="slider" name="amountRange" min="1" max="5" value="3" onchange="updateSlider(this.value)" oninput="this.form.amountInput.value=this.value; updateSlider(this.value)" /></td>
          <td>&nbsp;&nbsp;</td>
          <td><input type="range" size="5" class="slider" name="amountRange2" min="1" max="5" value="3" onchange="updateSlider2(this.value)" oninput="this.form.amountInput2.value=this.value; updateSlider2(this.value)" /></td>
          <td>&nbsp;&nbsp;</td>
          <td><input type="range" size="5" class="slider" name="amountRange3" min="1" max="5" value="3" onchange="updateSlider3(this.value)" oninput="this.form.amountInput3.value=this.value; updateSlider3(this.value)" /></td>
          <td>&nbsp;</td>
        </tr>      
  </table style="width:100%">
    <script type="text/javascript">
        function haeOnClick() {
            var fyysisyysSlider = document.getElementsByName("amountRange");
            var pulmanratkaisuSlider = document.getElementsByName("amountRange2");
            var seurallisuusSlider = document.getElementsByName("amountRange3");
            var results = {ajattelu_value:pulmanratkaisuSlider[0].value, fysiikka_value:fyysisyysSlider[0].value, sosiaalisuus_value:seurallisuusSlider[0].value};
            //Store results in local storage for transfer to results site
            //LocalStorage can't store objects so we turn them to JSON
            localStorage.setItem("results",JSON.stringify(results));
            localStorage.setItem("location",document.getElementById("locationDropdown").value);

            var xhr = new XMLHttpRequest();

            //Store results to db so we can collect big data and get an idea what kind of tasks people are looking for
            xhr.open("POST", "db/results/"+fyysisyysSlider[0].value+"&"+pulmanratkaisuSlider[0].value+"&"+seurallisuusSlider[0].value, true)
            xhr.onload = () =>{
                if(xhr.readyState === 4){
                    if(xhr.status === 200) {
                        console.log(xhr.responseText);
                        window.location.href = "results.html";
                    } else {
                        console.error(xhr.statusText);
                    }
                }
            }
            xhr.send();
        }
    </script>
     <p align="center">
     <br>
      <!--<a href="results.html">--><button type="button" class="button" onclick="haeOnClick()">HAE!</button><!--</a>-->
     </p>

        <br>
        <br>
        <br>
        <br>

	</form>

    <!-- Intro/lisätieto -->
    <section class="intro">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <h2 class="section-heading">Ihminen syntyy tekijäksi.</h2>
                    <p class="text-light">Vasta noin 2 –vuotiaana otamme kielen ja puhumisen avuksemme.
                        Toimintaan osallistuminen eli tehtävien tekeminen tuottaa hyvinvointia silloin, kun tekeminen on mitoitettu oikein tekijän tarpeisiin ja tekemisessä on niitä ulottuvuuksia, joista tekijä on kiinnostunut ja joita hän sillä hetkellä elämässään tarvitsee.
                    </p>
                    <br>
                    <p class="text-light">Hyvinvoinnin tilat tarjoavat tekemistä, joilla pääsee aloittamaan osallistumista tilan toimintaan omien tarpeiden mukaisesti.
                    </p>
                    <p class="text-light">Yksi tehtävä ei ole laaja tehtävien kokonaisuus, kuten esimerkiksi työ usein on. Tehtävä on ikään kuin irrotettu suuremmasta kokonaisuudesta. Tavoitteena on, että yksinkertaisen tekemisen kautta tilan toimintaan pääsee matalalla kynnyksellä mukaan ja itsearvioiduilla ulottuvuuksilla voi parantaa omaa hyvinvointiaan.
                    </p>
                    <p class="text-light"> Esimerkiksi opettaja, joka on päivisin paljon sosiaalisissa kontakteissa, haluaa ryhtyä vapaaehtoiseksi tapahtumien apukädeksi. Hän toivoo tehtävältä fyysistä ponnistelua mieluummin kuin sosiaalisuutta tai ajattelua. Tai opiskelija, joka on yksinäinen ja alkaa karttaa ihmiskontakteja, voi tarvita itsensä altistamista sosiaalisiin tilanteisiin. Tai henkilö, jolla on ilmaisemisen hankaluutta ja liikuntarajoite, voi kaivata elämäänsä osallistumista ongelmien ratkaisun parissa.
                    </p>
                    <ul class="text-light">
                        <li>Pohdi yksin tai jonkun toisen kanssa yhdessä minkälainen tekeminen voi hyödyttää sinua tällä hetkellä</li>
                        <li>Arvioi tarvettasi kolmella kriteerillä (ajattelu, sosiaalisuus, fyysisyys) asteikolla 1 vähän tai ei lainkaan - 5 paljon tai jotain niiden väliltä</li>
                        <li>Väline tarjoaa sinulle tarpeisiisi vastaavia tehtäviä Hyvinvoinnin tilasta, ensimmäinen vastaa parhaiten jne.</li>
                        <li>Voi selata myös muita tehtäviä</li>
                        <li>Pohdi, koska voit aloittaa ja ole yhteydessä tehtävässä mainittuun tahoon</li>
                    </ul>
                    <br>
                    <h3 class="section-heading">Kriteerit</h3>
                    <p class="text-light">Tarvitset tällä hetkellä tekemistä, joka tarjoaa/ vaatii:</p>
                    <p class="text-light">PULMANRATKAISU tarkoittaa oppimista, opitun tiedon soveltamista, ajattelemista, ongelmien ratkaisemista ja päätösten tekemistä</p>
                    <p class="text-light">FYYSISTÄ PONNISTELUA tarkoittaa liikkumista kehon asentoa tai sijaintia muutettaessa tai siirryttäessä paikasta toiseen, kannettaessa, liikutettaessa tai käsiteltäessä esineitä, käveltäessä, juostaessa, kiivettäessä tai käytettäessä erilaisia kulkuneuvoja</p>
                    <p class="text-light">SOSIAALISUUTTA tarkoittaa henkilöiden välisiä, asiayhteyteen ja sosiaaliseen tilanteeseen sopivia perustavia ja monimutkaisia vuorovaikutussuhteita ja niiden edellyttämiä toimia ja tehtäviä</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="page-footer">

        <!-- Kontaktitieto -->
        <div class="contact">
            <div class="container">
                <h2 class="section-heading">Ota yhteyttä</h2>
                <p><span class="glyphicon glyphicon-earphone"></span> 040 123456789</p>
                <p><span class="glyphicon glyphicon-envelope"></span> info@esimerkki.com</p>
            </div>
        </div>

        <!-- Copyright jne
        <div class="small-print">
            <div class="container">
                <p>Copyright</p>
            </div>
        </div>
        -->

    </footer>
</body>